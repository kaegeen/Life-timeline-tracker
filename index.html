<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Life Timeline Tracker</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-6">
  <div class="max-w-5xl mx-auto">
    <h1 class="text-3xl font-bold mb-4 text-center">Life Timeline Tracker</h1>

    <div class="flex gap-4 mb-6">
      <input id="eventDate" type="date" class="p-2 border border-gray-300 rounded w-1/3">
      <input id="eventText" type="text" placeholder="Event description..." class="p-2 border border-gray-300 rounded flex-1">
      <button onclick="addEvent()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Add</button>
    </div>

    <div id="timeline" class="overflow-x-auto whitespace-nowrap border-t-4 border-gray-400 py-6 flex gap-8"></div>
  </div>

  <script>
    let events = JSON.parse(localStorage.getItem("lifeTimeline")) || [];

    function addEvent() {
      const date = document.getElementById("eventDate").value;
      const text = document.getElementById("eventText").value.trim();
      if (!date || !text) return;

      events.push({ date, text });
      events.sort((a, b) => new Date(a.date) - new Date(b.date));
      localStorage.setItem("lifeTimeline", JSON.stringify(events));
      renderTimeline();
      document.getElementById("eventText").value = "";
    }

    function renderTimeline() {
      const container = document.getElementById("timeline");
      container.innerHTML = "";
      const today = new Date();

      events.forEach(event => {
        const eventDate = new Date(event.date);
        let color = "bg-gray-400";
        if (eventDate < today) color = "bg-green-500";
        if (eventDate.toDateString() === today.toDateString()) color = "bg-yellow-500";
        if (eventDate > today) color = "bg-blue-500";

        const item = document.createElement("div");
        item.className = "flex flex-col items-center w-40";
        item.innerHTML = `
          <div class="w-6 h-6 rounded-full ${color} mb-2"></div>
          <p class="text-sm font-bold">${event.date}</p>
          <p class="text-xs text-gray-700 text-center">${event.text}</p>
        `;
        container.appendChild(item);
      });
    }

    renderTimeline();
  </script>
</body>
</html>
